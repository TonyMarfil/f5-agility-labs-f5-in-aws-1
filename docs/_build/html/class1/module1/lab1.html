<!DOCTYPE html>
<head>
  
  <!--STAGING:-->
  <script src="https://assets.adobedtm.com/50164577268f481934e5d57dbfb78f929164cd0d/satelliteLib-ea775cfabef5fca8b04e9392f20c986c0724a7c3-staging.js"></script>
  <!--Production:-->
  <script src="https://assets.adobedtm.com/50164577268f481934e5d57dbfb78f929164cd0d/satelliteLib-ea775cfabef5fca8b04e9392f20c986c0724a7c3.js"></script>
    <title>2.1.1. Connecting to the Lab</title>
  

  <meta charset="utf-8">
  <!-- Twitter Bootstrap viewport setting -->
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <!-- F5 metadata -->
  <meta name="kb_doc_type" content="Manual"/>
  <meta name="kb_doc_type" content="User Guide"/>
  <meta name="title" content="2.1.1. Connecting to the Lab"/>
  <meta name="product" content="F5 Public Cloud Architectures - F5 in AWS II"/>
  <meta name="version" content=""/>
  <meta name="updated_date"  content="None"/>
  <meta name="archived" content="Archived documents excluded"/>

  
  
  
  <link href="https://cdn.f5.com/favicon.ico" rel="icon">
 
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.4/jquery.min.js"></script>
  <script type="text"> jQuery.noConflict(true)</script>

</head>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="X-UA-Compatible" content="IE=Edge" />
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>2.1.1. Connecting to the Lab &#8212; F5 Public Cloud Architectures - F5 in AWS II  documentation</title>
    <link rel="stylesheet" href="../../_static/css/bootstrap.min.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/css/f5_agility_theme.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/css/bootstrap.min.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/css/f5.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/css/f5-theme.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/css/custom.css" type="text/css" />
    <link rel="stylesheet" href="https://use.fontawesome.com/21fb8a09c3.css" type="text/css" />
    <script type="text/javascript" id="documentation_options" data-url_root="../../" src="../../_static/documentation_options.js"></script>
    <script type="text/javascript" src="../../_static/jquery.js"></script>
    <script type="text/javascript" src="../../_static/underscore.js"></script>
    <script type="text/javascript" src="../../_static/doctools.js"></script>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="2.2. Exploring AWS" href="../module2/module2.html" />
    <link rel="prev" title="2.1. Infrastructure As Code" href="module1.html" />
  </head><body>
  <div id="clouddocs-header"></div>

    <div id="dismiss">
      <button type="button" class="btn btn-info navbar-btn site-hidden"><i class="fa fa-align-justify"></i></button>
    </div>
    <div id="sidebar" class="section-nav">
      <nav class="nav-sidebartoc">
        <h5>F5 Public Cloud Architectures - F5 in AWS II  documentation </h5>
<div id="searchbox" role="search">
  <form class="search" action="../../search.html" method="get">
    <input type="text" class="search" name="q" placeholder=" Search..." />
    <button type="submit" class="btn btn-info navbar-btn"><i class="fa fa-search"></i></button>
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        <hr>
        <h5>Current Page</h5>
        <span class="nav-sidebartoc">
            <ul>
<li><a class="reference internal" href="#">2.1.1. Connecting to the Lab</a></li>
<li><a class="reference internal" href="#lab-variables">2.1.2. Lab Variables</a></li>
<li><a class="reference internal" href="#launch-remote-desktop-session-to-linux">2.1.3. Launch Remote Desktop Session to Linux</a></li>
<li><a class="reference internal" href="#ssh-to-the-f5-super-netops-docker-container">2.1.4. SSH to the F5-Super-NetOps docker container</a></li>
<li><a class="reference internal" href="#set-variables">2.1.5. Set Variables</a></li>
<li><a class="reference internal" href="#initialize-your-lab-environment">2.1.6. Initialize your Lab Environment</a></li>
<li><a class="reference internal" href="#launch-terraform">2.1.7. Launch Terraform</a></li>
<li><a class="reference internal" href="#f5-aws-lab-test-application">2.1.8. F5 AWS Lab Test application</a></li>
<li><a class="reference internal" href="#what-just-happened">2.1.9. What just happened?</a></li>
</ul>

         </span>
        <hr>
        <h5>Site Contents</h5>
        <span class="nav-sidebartoc">
            <p class="caption"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../intro.html">1. Getting Started</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../class1.html">2. Class - F5 Public Cloud Architectures - F5 in AWS II</a><ul class="current">
<li class="toctree-l2 current"><a class="reference internal" href="module1.html">2.1. Infrastructure As Code</a></li>
<li class="toctree-l2"><a class="reference internal" href="../module2/module2.html">2.2. Exploring AWS</a></li>
<li class="toctree-l2"><a class="reference internal" href="../module3/module3.html">2.3. F5 Networks AWS WAF Rules</a></li>
<li class="toctree-l2"><a class="reference internal" href="../module4/module4.html">2.4. Create a Virtual Server to Protect your Web Applications</a></li>
<li class="toctree-l2"><a class="reference internal" href="../module5/module5.html">2.5. Declarative Virtual Server with Application Services Extension 3</a></li>
<li class="toctree-l2"><a class="reference internal" href="../module6/module6.html">2.6. F5 Networks IPSec VPN to AWS</a></li>
<li class="toctree-l2"><a class="reference internal" href="../module7/module7.html">2.7. Big-IQ 6.0 and Application Templates for AWS</a></li>
<li class="toctree-l2"><a class="reference internal" href="../module8/module8.html">2.8. Big-IP Cloud Edition:</a></li>
<li class="toctree-l2"><a class="reference internal" href="../module9/module9.html">2.9. Create a Service Scaling Group Application:</a></li>
<li class="toctree-l2"><a class="reference internal" href="../module_10/module_10.html">2.10. Test Autoscaling</a></li>
<li class="toctree-l2"><a class="reference internal" href="../module_11/module_11.html">2.11. Clean up environment</a></li>
</ul>
</li>
</ul>

        </span><!-- Use this file to add extra links to the bottom of the ToC sidebar -->
<hr>
  <span class="nav-sidebartoc">
 <!-- insert content here -->
  </span>
      </nav>
    </div>

  
  <div class="main active" id="content">
    <article class="docs-container site-article-inner">
            <nav class="site-breadcrumb-nav site-nav">
          <ul class="site-breadcrumb-list">
            <li class="breadcrumb-item"><button type="button" id="sidebarCollapse" class="btn btn-info navbar-btn site-hidden"><i class="fa fa-align-justify"></i></button>&#x20 <a href="/">Community Training Classes &amp; Labs</a> &gt; <a href="../../index.html">F5 Public Cloud Architectures - F5 in AWS II </a> &gt; 2.1.1. Connecting to the Lab</li>
          </ul>
      </nav>
      
      

    
  <div class="section" id="connecting-to-the-lab">
<h1>2.1.1. Connecting to the Lab<a class="headerlink" href="#connecting-to-the-lab" title="Permalink to this headline">¶</a></h1>
<div class="admonition important">
<p class="first admonition-title">Important</p>
<p class="last">Your student account, and short URL path will be announced at the start of the lab.</p>
</div>
<ul class="simple">
<li>The lab environment consists of both a simulated “on-premises” datacenter hosted in Ravello and a public cloud environment hosted in AWS.</li>
<li>Though the public cloud environment runs on a shared AWS account, every student will build and work in a dedicated AWS VPC.</li>
<li>For this lab, a Linux Remote Desktop jump host will be provided as a consistent starting point.</li>
<li>A convenient way to work through the lab is to split your screen in half: one side for the lab environment, the other side for the lab guide.</li>
</ul>
</div>
<div class="section" id="lab-variables">
<h1>2.1.2. Lab Variables<a class="headerlink" href="#lab-variables" title="Permalink to this headline">¶</a></h1>
<p>The lab will make use of unique variables to provide access to the lab and isolate student environments.</p>
<table border="1" class="docutils">
<colgroup>
<col width="19%" />
<col width="81%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Variable Name</th>
<th class="head">Variable Value</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>shortUrl</td>
<td>Unique Key that provides access to this lab (i.e. abc123)</td>
</tr>
<tr class="row-odd"><td>emailid</td>
<td>Account name for each student (i.e. <a class="reference external" href="mailto:user01&#37;&#52;&#48;f5lab&#46;com">user01<span>&#64;</span>f5lab<span>&#46;</span>com</a>)</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="launch-remote-desktop-session-to-linux">
<h1>2.1.3. Launch Remote Desktop Session to Linux<a class="headerlink" href="#launch-remote-desktop-session-to-linux" title="Permalink to this headline">¶</a></h1>
<a class="reference internal image-reference" href="../../_images/1_ravello_portal1.png"><img alt="../../_images/1_ravello_portal1.png" src="../../_images/1_ravello_portal1.png" style="width: 960.0px; height: 540.0px;" /></a>
<ul class="simple">
<li>Look for ubuntu1. Note the username / password. Click on <em>rdp</em> link. Download the rdp file. Click on the rdp file to launch a Remote Desktop Session to your client.</li>
<li>Alternatively, you can copy and paste the ubutu1 IP address into your Remote Desktop client to modify settings.
- Local Resources =&gt; Keyboard =&gt; Apply Windows key combinations: On the remote computer. This will allow you to quickly toggle (ALT + TAB) between windows inside the Remote Desktop Session.</li>
<li>Login with username / password</li>
</ul>
<a class="reference internal image-reference" href="../../_images/2_rdp_logon.png"><img alt="../../_images/2_rdp_logon.png" src="../../_images/2_rdp_logon.png" style="width: 960.0px; height: 540.0px;" /></a>
</div>
<div class="section" id="ssh-to-the-f5-super-netops-docker-container">
<h1>2.1.4. SSH to the F5-Super-NetOps docker container<a class="headerlink" href="#ssh-to-the-f5-super-netops-docker-container" title="Permalink to this headline">¶</a></h1>
<p>From the Linux desktop, click on the upper-left-hand corner “Activities” to reveal the application Dock.</p>
<p>Click to launch the terminal application.</p>
<a class="reference internal image-reference" href="../../_images/3_terminal.png"><img alt="../../_images/3_terminal.png" src="../../_images/3_terminal.png" style="width: 960.0px; height: 540.0px;" /></a>
<p>From the terminal, invoke the ‘snops’ command alias to ssh to the f5-super-netops docker container. Substitute user (su) to root.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>snops
default
su -
default
</pre></div>
</div>
<a class="reference internal image-reference" href="../../_images/4_snops_login.png"><img alt="../../_images/4_snops_login.png" src="../../_images/4_snops_login.png" style="width: 960.0px; height: 540.0px;" /></a>
</div>
<div class="section" id="set-variables">
<h1>2.1.5. Set Variables<a class="headerlink" href="#set-variables" title="Permalink to this headline">¶</a></h1>
<p>Export your student account and short URL path variables.</p>
<p>Your student account will be used to create an AWS console login and provide unique names for infrastructure that you create in the shared AWS account.</p>
<p>The short URL path will be used to grant access to the shared AWS account both via the AWS API and as the password for the AWS web console. Replace the emailid and shortUrl values below with the student account name and short URL assigned to you at the start of the lab.</p>
<p>Copy and paste the commands below to accomplish the steps above.</p>
<div class="admonition attention">
<p class="first admonition-title">Attention</p>
<p class="last"><strong>REPLACE THE EXAMPLE VALUES WITH THE VALUES PROVIDED TO YOU BY YOUR INSTRUCTOR.</strong></p>
</div>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="nb">export</span> <span class="nv">emailid</span><span class="o">=</span>user99@f5lab.com
<span class="nb">export</span> <span class="nv">shortUrl</span><span class="o">=</span>abc123
printenv
</pre></div>
</div>
<a class="reference internal image-reference" href="../../_images/4a_export.png"><img alt="../../_images/4a_export.png" src="../../_images/4a_export.png" style="width: 960.0px; height: 540.0px;" /></a>
<p>The <code class="docutils literal notranslate"><span class="pre">printenv</span></code> command will echo all your environment variables.  Look for emailid and shortUrl. Confirm the exported variables are correct.</p>
</div>
<div class="section" id="initialize-your-lab-environment">
<h1>2.1.6. Initialize your Lab Environment<a class="headerlink" href="#initialize-your-lab-environment" title="Permalink to this headline">¶</a></h1>
<p>This will create AWS credentials that you will use to access the shared AWS account.</p>
<p>You will:</p>
<ul class="simple">
<li>Change to your home directory.</li>
<li>Clone the git repository for this lab.</li>
<li>Change to the working directory.</li>
<li>Run the start script.</li>
</ul>
<p>Copy and paste the commands below to accomplish the steps above.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="nb">cd</span> ~
git clone -b dev2 https://github.com/TonyMarfil/marfil-f5-terraform
<span class="nb">cd</span> ~/marfil-f5-terraform/
<span class="nb">source</span> start
</pre></div>
</div>
<a class="reference internal image-reference" href="../../_images/5_git_clone.png"><img alt="../../_images/5_git_clone.png" src="../../_images/5_git_clone.png" style="width: 960.0px; height: 540.0px;" /></a>
<p>Git clone completes successfully.</p>
<a class="reference internal image-reference" href="../../_images/6_git_clone_complete.png"><img alt="../../_images/6_git_clone_complete.png" src="../../_images/6_git_clone_complete.png" style="width: 960.0px; height: 540.0px;" /></a>
<div class="admonition attention">
<p class="first admonition-title">Attention</p>
<p class="last">For a smooth ride, always invoke commands from inside the cloned git repository (marfil-f5-terraform). To check you’re in the right place you can run the command <code class="docutils literal notranslate"><span class="pre">pwd</span></code> and the output should read <code class="docutils literal notranslate"><span class="pre">/root/marfil-f5-terraform</span></code></p>
</div>
</div>
<div class="section" id="launch-terraform">
<h1>2.1.7. Launch Terraform<a class="headerlink" href="#launch-terraform" title="Permalink to this headline">¶</a></h1>
<p>Now that we have created credentials to access the AWS account, we will use Terraform to deploy our lab environment.</p>
<p>Initialize terraform.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>terraform init
</pre></div>
</div>
<p>Invoke terraform plan. This will output the changes that terraform will apply.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>terraform plan
</pre></div>
</div>
<p>Terraform apply.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>terraform apply
</pre></div>
</div>
<a class="reference internal image-reference" href="../../_images/7_terraform_apply.png"><img alt="../../_images/7_terraform_apply.png" src="../../_images/7_terraform_apply.png" style="width: 960.0px; height: 540.0px;" /></a>
<a class="reference internal image-reference" href="../../_images/8_terraform_apply_complete.png"><img alt="../../_images/8_terraform_apply_complete.png" src="../../_images/8_terraform_apply_complete.png" style="width: 960.0px; height: 540.0px;" /></a>
</div>
<div class="section" id="f5-aws-lab-test-application">
<h1>2.1.8. F5 AWS Lab Test application<a class="headerlink" href="#f5-aws-lab-test-application" title="Permalink to this headline">¶</a></h1>
<p>Note the alb_dns_name value in terraform output. HTTPS to this site from any browser to see the example lab application.</p>
<a class="reference internal image-reference" href="../../_images/9_alb_demo_site.png"><img alt="../../_images/9_alb_demo_site.png" src="../../_images/9_alb_demo_site.png" style="width: 960.0px; height: 540.0px;" /></a>
</div>
<div class="section" id="what-just-happened">
<h1>2.1.9. What just happened?<a class="headerlink" href="#what-just-happened" title="Permalink to this headline">¶</a></h1>
<p>This is the TL;DR version of the steps completed.</p>
<p>When you clone the git repository, you are pulling down a current version of the files you need to get started. These files are hosted on Github, the most popular online revision control repository, and include:</p>
<ul class="simple">
<li>Onboarding scripts that create your AWS account and other prerequisites: <em>f5-super-netops-install.sh</em>, <em>addUser.sh</em>, <em>export.sh</em>.<ul>
<li>all of the terraform configuration files–a declarative, comprehensive representation of our entire application stack:</li>
<li><em>main.tf</em> - Every terraform configuration has a main.tf. This contains all of the AWS specific (non-F5) environment configuration, including web instances</li>
<li><em>f5-cloudformation</em>.tf files - A terraform file that takes the officially supported CloudFormation template hosted at: <a class="reference external" href="https://s3.amazonaws.com/f5-cft/f5-existing-stack-bigiq-1nic-bigip.templat">https://s3.amazonaws.com/f5-cft/f5-existing-stack-bigiq-1nic-bigip.templat</a> and stuffs all of the prerequisite parameters so we don’t have to do it manually.</li>
<li><em>outputs.tf</em> - Any variable in the outputs.tf file can be rendered to the console with ‘terraform output’ and is exposed to other command line tools.</li>
<li><em>vars.tf</em> - Variables for terraform.</li>
</ul>
</li>
<li>Handy utilities to help move the lab along with minimum fuss: <em>password-reset</em>.</li>
</ul>
<p>The start script takes care of all of the prerequisites to standing up an AWS environment. Precisely:</p>
<ul class="simple">
<li>Installs all of the necessary software, including: terraform, the aws cli, and various other command line tools.</li>
<li>Creates your AWS console login and api account and stores the keys locally for use by the AWS command line.</li>
<li>Creates SSH keys for use by all of your EC2 instances: web servers and Big-IP virtual editions.</li>
<li>Creates a self-signed SSL certificate for use in deploying https services.</li>
<li>Sets the default region: us-east-1 (Virginia), ap-southeast-1 (Singapore), etc.</li>
</ul>
<p>The terraform files go into effect when you invoke ‘terraform apply’. This step makes use of all of the prerequisites from the step before to build the environment in AWS.</p>
</div>



    
     <div class="row next-prev-btn-row">
       <div class="col-lg-12">
       
        <a href="module1.html" title="2.1. Infrastructure As Code" accesskey="p" class="btn btn-primary pull-left"><i class="fa fa-arrow-circle-left" aria-hidden="true"></i> Previous</a>
       
       
          <a href="../module2/module2.html" title="2.2. Exploring AWS" accesskey="n" class="btn btn-primary pull-right">Next <i class="fa fa-arrow-circle-right" aria-hidden="true"></i></a>
       
     </div>
     </div>
    

    </article>
  </div>

</div>


  <div id="clouddocs-footer"></div>
  <!-- Bootstrap core JavaScript
  ================================================== -->
  <!-- Placed at the end of the document so the pages load faster -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.4/jquery.min.js"></script>
  <script src="../../_static/js/bootstrap.min.js"></script>
  <script type="text/javascript">
    jQuery.noConflict(true)
  </script>
  <script src="../../_static/js/clouddocs.js"></script>
  </body>
</html>