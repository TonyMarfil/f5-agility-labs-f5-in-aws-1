<!DOCTYPE html>
<head>
  
  <!--STAGING:-->
  <script src="https://assets.adobedtm.com/50164577268f481934e5d57dbfb78f929164cd0d/satelliteLib-ea775cfabef5fca8b04e9392f20c986c0724a7c3-staging.js"></script>
  <!--Production:-->
  <script src="https://assets.adobedtm.com/50164577268f481934e5d57dbfb78f929164cd0d/satelliteLib-ea775cfabef5fca8b04e9392f20c986c0724a7c3.js"></script>
    <title>2.2.1. Explore the F5 / AWS lab environment</title>
  

  <meta charset="utf-8">
  <!-- Twitter Bootstrap viewport setting -->
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <!-- F5 metadata -->
  <meta name="kb_doc_type" content="Manual"/>
  <meta name="kb_doc_type" content="User Guide"/>
  <meta name="title" content="2.2.1. Explore the F5 / AWS lab environment"/>
  <meta name="product" content="F5 Public Cloud Architectures - F5 in AWS II"/>
  <meta name="version" content=""/>
  <meta name="updated_date"  content="None"/>
  <meta name="archived" content="Archived documents excluded"/>

  
  
  
  <link href="https://cdn.f5.com/favicon.ico" rel="icon">
 
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.4/jquery.min.js"></script>
  <script type="text"> jQuery.noConflict(true)</script>

</head>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="X-UA-Compatible" content="IE=Edge" />
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>2.2.1. Explore the F5 / AWS lab environment &#8212; F5 Public Cloud Architectures - F5 in AWS II  documentation</title>
    <link rel="stylesheet" href="../../_static/css/bootstrap.min.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/css/f5_agility_theme.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/css/bootstrap.min.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/css/f5.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/css/f5-theme.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/css/custom.css" type="text/css" />
    <link rel="stylesheet" href="https://use.fontawesome.com/21fb8a09c3.css" type="text/css" />
    <script type="text/javascript" id="documentation_options" data-url_root="../../" src="../../_static/documentation_options.js"></script>
    <script type="text/javascript" src="../../_static/jquery.js"></script>
    <script type="text/javascript" src="../../_static/underscore.js"></script>
    <script type="text/javascript" src="../../_static/doctools.js"></script>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="2.3. F5 Networks AWS WAF Rules" href="../module3/module3.html" />
    <link rel="prev" title="2.2. Exploring AWS" href="module2.html" />
  </head><body>
  <div id="clouddocs-header"></div>

    <div id="dismiss">
      <button type="button" class="btn btn-info navbar-btn site-hidden"><i class="fa fa-align-justify"></i></button>
    </div>
    <div id="sidebar" class="section-nav">
      <nav class="nav-sidebartoc">
        <h5>F5 Public Cloud Architectures - F5 in AWS II  documentation </h5>
<div id="searchbox" role="search">
  <form class="search" action="../../search.html" method="get">
    <input type="text" class="search" name="q" placeholder=" Search..." />
    <button type="submit" class="btn btn-info navbar-btn"><i class="fa fa-search"></i></button>
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        <hr>
        <h5>Current Page</h5>
        <span class="nav-sidebartoc">
            <ul>
<li><a class="reference internal" href="#">2.2.1. Explore the F5 / AWS lab environment</a></li>
</ul>

         </span>
        <hr>
        <h5>Site Contents</h5>
        <span class="nav-sidebartoc">
            <p class="caption"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../intro.html">1. Getting Started</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../class1.html">2. Class - F5 Public Cloud Architectures - F5 in AWS II</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../module1/module1.html">2.1. Infrastructure As Code</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="module2.html">2.2. Exploring AWS</a></li>
<li class="toctree-l2"><a class="reference internal" href="../module3/module3.html">2.3. F5 Networks AWS WAF Rules</a></li>
<li class="toctree-l2"><a class="reference internal" href="../module4/module4.html">2.4. Create a Virtual Server to Protect your Web Applications</a></li>
<li class="toctree-l2"><a class="reference internal" href="../module5/module5.html">2.5. Declarative Virtual Server with Application Services Extension 3</a></li>
<li class="toctree-l2"><a class="reference internal" href="../module6/module6.html">2.6. F5 Networks IPSec VPN to AWS</a></li>
<li class="toctree-l2"><a class="reference internal" href="../module7/module7.html">2.7. Big-IQ 6.0 and Application Templates for AWS</a></li>
<li class="toctree-l2"><a class="reference internal" href="../module8/module8.html">2.8. Big-IP Cloud Edition:</a></li>
<li class="toctree-l2"><a class="reference internal" href="../module9/module9.html">2.9. Create a Service Scaling Group Application:</a></li>
<li class="toctree-l2"><a class="reference internal" href="../module_10/module_10.html">2.10. Test Autoscaling</a></li>
<li class="toctree-l2"><a class="reference internal" href="../module_11/module_11.html">2.11. Clean up environment</a></li>
</ul>
</li>
</ul>

        </span><!-- Use this file to add extra links to the bottom of the ToC sidebar -->
<hr>
  <span class="nav-sidebartoc">
 <!-- insert content here -->
  </span>
      </nav>
    </div>

  
  <div class="main active" id="content">
    <article class="docs-container site-article-inner">
            <nav class="site-breadcrumb-nav site-nav">
          <ul class="site-breadcrumb-list">
            <li class="breadcrumb-item"><button type="button" id="sidebarCollapse" class="btn btn-info navbar-btn site-hidden"><i class="fa fa-align-justify"></i></button>&#x20 <a href="/">Community Training Classes &amp; Labs</a> &gt; <a href="../../index.html">F5 Public Cloud Architectures - F5 in AWS II </a> &gt; 2.2.1. Explore the F5 / AWS lab environment</li>
          </ul>
      </nav>
      
      

    
  <div class="section" id="explore-the-f5-aws-lab-environment">
<h1>2.2.1. Explore the F5 / AWS lab environment<a class="headerlink" href="#explore-the-f5-aws-lab-environment" title="Permalink to this headline">¶</a></h1>
<ol class="arabic simple">
<li>From the Linux desktop, click “Activities” in the upper-left-hand corner to launch the Dock.</li>
</ol>
<a class="reference internal image-reference" href="../../_images/0_terminal.png"><img alt="../../_images/0_terminal.png" src="../../_images/0_terminal.png" style="width: 960.0px; height: 540.0px;" /></a>
<ol class="arabic simple" start="2">
<li>Launch the Firefox browser. Click on the bookmark for the Amazon AWS Console link in the upper-left-hand corner. Login with emailid as the username and shortUrl as password.</li>
</ol>
<table border="1" class="docutils">
<colgroup>
<col width="33%" />
<col width="68%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Parameter</th>
<th class="head">value</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>Account:</td>
<td>f5agility2018</td>
</tr>
<tr class="row-odd"><td>User Name:</td>
<td><a class="reference external" href="mailto:userxx&#37;&#52;&#48;f5lab&#46;com">userxx<span>&#64;</span>f5lab<span>&#46;</span>com</a>, change xx to your student number</td>
</tr>
<tr class="row-even"><td>Password:</td>
<td>sames as shortUrl / echo $shortUrl</td>
</tr>
</tbody>
</table>
<a class="reference internal image-reference" href="../../_images/1_aws_console_login.png"><img alt="../../_images/1_aws_console_login.png" src="../../_images/1_aws_console_login.png" style="width: 960.0px; height: 540.0px;" /></a>
<div class="admonition attention">
<p class="first admonition-title">Attention</p>
<p class="last">In the upper right-hand corner, ensure you are in the correct region. For example: N. Virginia region (us-east-1) is the default.</p>
</div>
<ol class="arabic simple" start="3">
<li>Navigate to Services =&gt; Management Tools =&gt; CloudFormation. In the search field type your user account name (i.e user99). You should see your CloudFormation deployment details.</li>
</ol>
<ul class="simple">
<li>Click the Events tab. The F5 CloudFormation template records every succesfull or failed event here. Look for the final “CREATE_COMPLETE” at the top. This indicates all went well.</li>
</ul>
<a class="reference internal image-reference" href="../../_images/2_cft_events.png"><img alt="../../_images/2_cft_events.png" src="../../_images/2_cft_events.png" style="width: 960.0px; height: 540.0px;" /></a>
<ul class="simple">
<li>Click on the Parameters tab. We used terraform to stuff all of the necesary parameters into the CloudFormation template. Here you can see the CloudFormation parameter name and value provided.</li>
</ul>
<a class="reference internal image-reference" href="../../_images/3_cft_parameters.png"><img alt="../../_images/3_cft_parameters.png" src="../../_images/3_cft_parameters.png" style="width: 960.0px; height: 540.0px;" /></a>
<ul class="simple">
<li>Click on the Outputs tab. When CloudFormation deployments complete successfully, they can export key value pairs you can use to integrate other automation tools. For example, you can query these CloudFormation outputs to find out to which region, availability zone, private IPs, public IPs your F5 Big-IP Virtual Edition instance has been assigned.</li>
</ul>
<a class="reference internal image-reference" href="../../_images/5_cft_resources.png"><img alt="../../_images/5_cft_resources.png" src="../../_images/5_cft_resources.png" style="width: 960.0px; height: 540.0px;" /></a>
<ul class="simple">
<li>Click on the Resources tab. Here we see a map (resource type to unqique id) of all the AWS resources that were deployed from the CloudFormation template.</li>
</ul>
<a class="reference internal image-reference" href="../../_images/5_cft_resources.png"><img alt="../../_images/5_cft_resources.png" src="../../_images/5_cft_resources.png" style="width: 960.0px; height: 540.0px;" /></a>
<ol class="arabic simple" start="4">
<li>Navigate to Services =&gt; Compute =&gt; EC2 =&gt; INSTANCES =&gt; Instances. Enter your username in the search field (i.e. user99). The web application is hosted on webaz1.0 in one availability zone and webaz2.0 in another availability zone. Highlight web-az1.0. In the “Description” tab below, note the availability zone. Highlight web-az2.0 and do the same.</li>
</ol>
<a class="reference internal image-reference" href="../../_images/6_aws_console_search_filter.png"><img alt="../../_images/6_aws_console_search_filter.png" src="../../_images/6_aws_console_search_filter.png" style="width: 960.0px; height: 540.0px;" /></a>
<ol class="arabic simple" start="5">
<li>A single Big-IP Virtual Edition is running on an AWS m4.xlarge intance. Highlight your Big-IP, expand the “Description” tab below. Your instance details are here including:<ul>
<li>Instance type</li>
<li>Elastic IP</li>
<li>Key pair name</li>
<li>Private IPs</li>
<li>VPC ID</li>
<li>Network interface</li>
</ul>
</li>
</ol>
<a class="reference internal image-reference" href="../../_images/7_ec2_description.png"><img alt="../../_images/7_ec2_description.png" src="../../_images/7_ec2_description.png" style="width: 960.0px; height: 540.0px;" /></a>
<div class="admonition attention">
<p class="first admonition-title">Attention</p>
<p class="last">We deployed a single-NIC Big-IP. A curious difference from traditional datacenter two and three NIC deployments is that single-NIC cloud instances will often share the same IP address for management, self-ip and virtual server. In our deployment: tcp 22 to ssh to the self-ip for management, tcp 8443 to https to the config utility for management, and tcp 80, 443 will evenutally be the virtual server / listener for http/https application traffic.</p>
</div>
<ol class="arabic simple" start="6">
<li>Cloud-init. Version 13 of Big-IP supports cloud-init. Right click on BIGIP1 =&gt; Instance Settings =&gt; View/Change User Data. Cloud-init is the industry standard way to inject commands into an F5 cloud image to automate all aspects of the on-boarding process: <a class="reference external" href="https://cloud-init.io/">https://cloud-init.io/</a>.</li>
</ol>
<a class="reference internal image-reference" href="../../_images/8_f5_user_data.png"><img alt="../../_images/8_f5_user_data.png" src="../../_images/8_f5_user_data.png" style="width: 960.0px; height: 540.0px;" /></a>
<ol class="arabic simple" start="7">
<li>Services =&gt; Compute =&gt; EC2 =&gt; LOAD BALANCING =&gt; Load Balancers. In the search filter enter your username. You should see two load balancers. One named tf-alb-* is your newly created AWS application load balancer. Highlight the ‘Description’ tab. Note:</li>
</ol>
<ul class="simple">
<li>Scheme: internate-facing</li>
<li>Type: application</li>
<li>AWS WAF Web ACL: has no web acl applied.</li>
</ul>
<a class="reference internal image-reference" href="../../_images/9_alb.png"><img alt="../../_images/9_alb.png" src="../../_images/9_alb.png" style="width: 960.0px; height: 540.0px;" /></a>
<ul class="simple">
<li>Highlight the Listeners tab. A listener is ready to receive traffic on HTTPS: 443. A TLS Certificate was installed as part of our deployment and the ALB is terminating TLS.</li>
</ul>
<a class="reference internal image-reference" href="../../_images/10_alb_listener_https_443.png"><img alt="../../_images/10_alb_listener_https_443.png" src="../../_images/10_alb_listener_https_443.png" style="width: 960.0px; height: 540.0px;" /></a>
<ul class="simple">
<li>Select the other load-balancer named tf-elb-asg-*. This is a standard TCP load balancer. Note Type: classic. This load-balancer is not in service yet.</li>
</ul>
<a class="reference internal image-reference" href="../../_images/11_elb_for_bigip_ce.png"><img alt="../../_images/11_elb_for_bigip_ce.png" src="../../_images/11_elb_for_bigip_ce.png" style="width: 960.0px; height: 540.0px;" /></a>
<ol class="arabic simple" start="8">
<li>Navigate to Services =&gt; Networking &amp; Content Deliver =&gt; VPC. click on VPCs. Enter your username in the search filter (i.e. user99). This is the Virtual Private Cloud (VPC) that has been dedicated to your lab environment.</li>
</ol>
<ul class="simple">
<li>Select the Summary tab. You can see the IPv4 CIDR assigned is 10.0.0.0/16. Your on-premises datacenter has been assigned 10.1.0.0/16 to not conflict.</li>
</ul>
<a class="reference internal image-reference" href="../../_images/12_vpc.png"><img alt="../../_images/12_vpc.png" src="../../_images/12_vpc.png" style="width: 960.0px; height: 540.0px;" /></a>
<ol class="arabic simple" start="9">
<li>From the VPC Dashboard, Click on VPN Connections in the left-hand navigation pane. Enter your username in the search filter (i.e. user99). A virtual Private Gateway has been created and attached to your VPC. We will later use this VPN Gateway to create and IPSec tunnel between our on-premises environment and our AWS VPC.</li>
</ol>
<a class="reference internal image-reference" href="../../_images/13_vpn_gateway.png"><img alt="../../_images/13_vpn_gateway.png" src="../../_images/13_vpn_gateway.png" style="width: 960.0px; height: 540.0px;" /></a>
</div>



    
     <div class="row next-prev-btn-row">
       <div class="col-lg-12">
       
        <a href="module2.html" title="2.2. Exploring AWS" accesskey="p" class="btn btn-primary pull-left"><i class="fa fa-arrow-circle-left" aria-hidden="true"></i> Previous</a>
       
       
          <a href="../module3/module3.html" title="2.3. F5 Networks AWS WAF Rules" accesskey="n" class="btn btn-primary pull-right">Next <i class="fa fa-arrow-circle-right" aria-hidden="true"></i></a>
       
     </div>
     </div>
    

    </article>
  </div>

</div>


  <div id="clouddocs-footer"></div>
  <!-- Bootstrap core JavaScript
  ================================================== -->
  <!-- Placed at the end of the document so the pages load faster -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.4/jquery.min.js"></script>
  <script src="../../_static/js/bootstrap.min.js"></script>
  <script type="text/javascript">
    jQuery.noConflict(true)
  </script>
  <script src="../../_static/js/clouddocs.js"></script>
  </body>
</html>